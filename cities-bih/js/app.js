let data = [
	{
		abbr: "SA",
		name: "Sarajevo",
		state: "BiH",
		region: "Sarajevski kanton",
		img: "images/sarajevo.jpg"
	},
	{
		abbr: "BL",
		name: "Banja Luka",
		state: "BiH",
		region: "Banjalucka regija",
		img: "images/banja-luka.jpg"
	},
	{
		abbr: "TZ",
		name: "Tuzla",
		state: "BiH",
		region: "Tuzlanski kanton",
		img: "images/tuzla.jpg"
	},
	{
		abbr: "ZN",
		name: "Zenica",
		state: "BiH",
		region: "Zenicko-dobojski kanton",
		img: "images/zenica.jpg"
	},
	{
		abbr: "MO",
		name: "Mostar",
		state: "BiH",
		region: "Hercegovacko-neretvanski kanton",
		img: "images/mostar.jpg"
	},
	{
		abbr: "IS",
		name: "Istocno Sarajevo",
		state: "BiH",
		region: "Sarajevsko-zvornicka regija",
		img: "images/istocno-sarajevo.jpg"
	},
	{
		abbr: "BI",
		name: "Bihac",
		state: "BiH",
		region: "Unsko-sanski kanton",
		img: "images/bihac.jpg"
	},
	{
		abbr: "BR",
		name: "Brcko",
		state: "BiH",
		region: "Brcko distrikt",
		img: "images/brcko.jpg"
	},
	{
		abbr: "BE",
		name: "Bijeljina",
		state: "BiH",
		region: "Dobojsko-bijeljinska regija",
		img: "images/bijeljina.jpg"
	},
	{
		abbr: "PD",
		name: "Prijedor",
		state: "BiH",
		region: "Banjalucka regija",
		img: "images/prijedor.jpg"
	},
	{
		abbr: "TB",
		name: "Trebinje",
		state: "BiH",
		region: "Trebinjsko-srbinjska regija",
		img: "images/trebinje.jpg"
	},
	{
		abbr: "TV",
		name: "Travnik",
		state: "BiH",
		region: "Srednjobosanski kanton",
		img: "images/travnik.jpg"
	},
	{
		abbr: "KS",
		name: "Kiseljak",
		state: "BiH",
		region: "Srednjobosanski kanton",
		img: "images/kiseljak.jpg"
	},
	{
		abbr: "DB",
		name: "Doboj",
		state: "BiH",
		region: "Dobojsko-bijeljinska regija",
		img: "images/doboj.jpg"
	},
	{
		abbr: "CZ",
		name: "Cazin",
		state: "BiH",
		region: "Unsko-sanski kanton",
		img: "images/cazin.jpg"
	},
	{
		abbr: "BU",
		name: "Bugojno",
		state: "BiH",
		region: "Srednjobosanski kanton",
		img: "images/bugojno.jpg"
	},
	{
		abbr: "VK",
		name: "Velika Kladusa",
		state: "BiH",
		region: "Unsko-sanski kanton",
		img: "images/velika-kladusa.jpg"
	},
	{
		abbr: "VS",
		name: "Visoko",
		state: "BiH",
		region: "Zenicko-dobojski kanton",
		img: "images/visoko.jpg"
	},
	{
		abbr: "GZ",
		name: "Gorazde",
		state: "BiH",
		region: "Bosansko-podrinjski kanton",
		img: "images/gorazde.jpg"
	},
	{
		abbr: "KO",
		name: "Konjic",
		state: "BiH",
		region: "Hercegovacko-neretvanski kanton",
		img: "images/konjic.jpg"
	},
	{
		abbr: "GR",
		name: "Gracanica",
		state: "BiH",
		region: "Tuzlanski kanton",
		img: "images/gracanica.jpg"
	},
	{
		abbr: "GA",
		name: "Gradacac",
		state: "BiH",
		region: "Tuzlanski kanton",
		img: "images/gradacac.jpg"
	},
	{
		abbr: "BK",
		name: "Bosanska Krupa",
		state: "BiH",
		region: "Unsko-sanski kanton",
		img: "images/bosanska-krupa.jpg"
	},
	{
		abbr: "MK",
		name: "Mrkonjic Grad",
		state: "BiH",
		region: "Banjalucka regija",
		img: "images/mrkonjic-grad.jpg"
	},
	{
		abbr: "FO",
		name: "Foca",
		state: "BiH",
		region: "Trebinjsko-srbinjska regija",
		img: "images/foca.jpg"
	},
	{
		abbr: "ZA",
		name: "Zavidovici",
		state: "BiH",
		region: "Zenicko-dobojski kanton",
		img: "images/zavidovici.jpg"
	},
	{
		abbr: "ZI",
		name: "Zivinice",
		state: "BiH",
		region: "Tuzlanski kanton",
		img: "images/zivinice.jpg"
	},
	{
		abbr: "SM",
		name: "Sanski Most",
		state: "BiH",
		region: "Unsko-sanski kanton",
		img: "images/sanski-most.jpg"
	},
	{
		abbr: "GD",
		name: "Gradiska",
		state: "BiH",
		region: "Banjalucka regija",
		img: "images/gradiska.jpg"
	},
	{
		abbr: "BI",
		name: "Bileca",
		state: "BiH",
		region: "Trebinjsko-srbinjska regija",
		img: "images/bileca.jpg"
	},
	{
		abbr: "LU",
		name: "Lukavac",
		state: "BiH",
		region: "Tuzlanski kanton",
		img: "images/lukavac.jpg"
	},
	{
		abbr: "KA",
		name: "Kakanj",
		state: "BiH",
		region: "Zenicko-dobojski kanton",
		img: "images/kakanj.jpg"
	},
	{
		abbr: "LV",
		name: "Livno",
		state: "BiH",
		region: "Zapadnobosanski kanton",
		img: "images/livno.jpg"
	},
	{
		abbr: "ODz",
		name: "Odzak",
		state: "BiH",
		region: "Posavski kanton",
		img: "images/odzak.jpg"
	},
	{
		abbr: "SP",
		name: "Sipovo",
		state: "BiH",
		region: "Banjalucka regija",
		img: "images/sipovo.jpg"
	},
	{
		abbr: "PZ",
		name: "Prozor",
		state: "BiH",
		region: "Hercegovacko-neretvanski kanton",
		img: "images/prozor.jpg"
	},
	{
		abbr: "NT",
		name: "Novi Travnik",
		state: "BiH",
		region: "Srednjobosanski kanton",
		img: "images/novi-travnik.jpg"
	}
];
const search = document.getElementById('search');
const matchList = document.getElementById('match-list');
let states;

// Get states
const getStates = () => {
 states = data;
};

// FIlter states
const searchStates = searchText => {
 // Get matches to current text input
 let matches = states.filter(state => {
  const regex = new RegExp(`^${searchText}`, 'gi');
  return state.name.match(regex) || state.abbr.match(regex);
 });

 // Clear when input or matches are empty
 if (searchText.length === 0) {
  matches = [];
  matchList.innerHTML = '';
 }

 outputHtml(matches);
};

// Show results in HTML
const outputHtml = matches => {
 if (matches.length > 0) {
  const html = matches
   .map(
    match => `<div class="card card-body mb-1" style="background-image:linear-gradient(0deg,rgba(0,0,0,0.5),rgba(0,0,0,0.5)), url(${match.img});background-position:center;background-size:cover;">
    <h4 class="text-primary">${match.name}</h4>
    <small style="color: #fff">Regija/Kanton: ${match.region}</small>
   </div>`
   )
   .join('');
  matchList.innerHTML = html;
 }
};



window.addEventListener('DOMContentLoaded', getStates);
search.addEventListener('input', () => searchStates(search.value));